!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var m=function(e,t){"use strict";function y(e,t,o){return e<=t?t:o<=e?o:e}var x=Object.create(m.prototype),a=0,b=0,l=0,O=0,c=[],o=!1,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},u=window.transformProp||function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();x.options={speed:-2,center:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}},t&&Object.keys(t).forEach(function(e){x.options[e]=t[e]}),x.options.speed=y(x.options.speed,-10,10),e=e||".rellax";var r=document.querySelectorAll(e);if(!(0<r.length))throw new Error("The elements you're trying to select don't exist.");x.elems=r;var i=function(e){var t=e.getAttribute("data-rellax-percentage"),o=e.getAttribute("data-rellax-speed"),n=e.getAttribute("data-rellax-zindex")||0,r=x.options.vertical&&(t||x.options.center)?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,i=x.options.horizontal&&(t||x.options.center)?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,s=r+e.getBoundingClientRect().top,d=e.clientHeight||e.offsetHeight||e.scrollHeight,a=i+e.getBoundingClientRect().left,l=e.clientWidth||e.offsetWidth||e.scrollWidth,c=t||(r-s+b)/(d+b),u=t||(i-a+O)/(l+O);x.options.center&&(c=u=.5);var f=o?y(o,-10,10):x.options.speed;(t||x.options.center)&&(f=y(o||x.options.speed,-5,5));var m=z(u,c,f),p=e.style.cssText,w="";if(0<=p.indexOf("transform")){var h=p.indexOf("transform"),g=p.slice(h),v=g.indexOf(";");w=v?" "+g.slice(11,v).replace(/\s/g,""):" "+g.slice(11).replace(/\s/g,"")}return{baseX:m.x,baseY:m.y,top:s,left:a,height:d,width:l,speed:f,style:p,transform:w,zindex:n}},s=function(){var e=a,t=l;return a=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,l=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,!(e==a||!x.options.vertical)||!(t==l||!x.options.horizontal)},z=function(e,t,o){var n={},r=o*(100*(1-e)),i=o*(100*(1-t));return n.x=x.options.round?Math.round(r):Math.round(100*r)/100,n.y=x.options.round?Math.round(i):Math.round(100*i)/100,n},d=function(){s()&&!1===o&&f(),n(d)},f=function(){for(var e=0;e<x.elems.length;e++){var t=(a-c[e].top+b)/(c[e].height+b),o=(l-c[e].left+O)/(c[e].width+O),n=z(o,t,c[e].speed),r=n.y-c[e].baseY,i=n.x-c[e].baseX,s=c[e].zindex,d="translate3d("+(x.options.horizontal?i:"0")+"px,"+(x.options.vertical?r:"0")+"px,"+s+"px) "+c[e].transform;x.elems[e].style[u]=d}x.options.callback(n)};return x.destroy=function(){for(var e=0;e<x.elems.length;e++)x.elems[e].style.cssText=c[e].style;o=!0},function(){b=window.innerHeight,O=window.innerWidth,s();for(var e=0;e<x.elems.length;e++){var t=i(x.elems[e]);c.push(t)}window.addEventListener("resize",function(){f()}),d(),f()}(),x};return m});
//# sourceMappingURL=rellax.min.js.map
